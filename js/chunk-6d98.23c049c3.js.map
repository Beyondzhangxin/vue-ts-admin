{"version":3,"sources":["webpack:///./src/views/login/index.tsx"],"names":["Login","_Vue","_this","Object","_Volumes_FZK_DATA_2018_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","this","loginForm","username","password","config","_utils_config__WEBPACK_IMPORTED_MODULE_17__","imgToken","loading","_Volumes_FZK_DATA_2018_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_createClass__WEBPACK_IMPORTED_MODULE_12__","key","value","_this2","Form","validateFields","err","values","window","api","login","_Volumes_FZK_DATA_2018_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_objectSpread__WEBPACK_IMPORTED_MODULE_9__","then","res","_res$data","data","_res$data$result","result","resultCode","resultMessage","entity","$message","error","success","$store","dispatch","$router","push","catch","errs","message","h","arguments","getFieldDecorator","class","attrs","alt","src","__webpack_require__","name","ref","on","submit","submitForm","rules","required","id","prefix-icon","placeholder","slot","type","pressEnter","click","_Volumes_FZK_DATA_2018_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_inherits__WEBPACK_IMPORTED_MODULE_11__","vue_property_decorator__WEBPACK_IMPORTED_MODULE_16__","tslib__WEBPACK_IMPORTED_MODULE_15__","components","a-form","ant_design_vue_es_form__WEBPACK_IMPORTED_MODULE_7__","a-form-item","Item","a-button","ant_design_vue_es_button__WEBPACK_IMPORTED_MODULE_5__","a-input","ant_design_vue_es_input__WEBPACK_IMPORTED_MODULE_3__","a-icon","ant_design_vue_es_icon__WEBPACK_IMPORTED_MODULE_1__","props","__webpack_exports__","create"],"mappings":"4VAsBAA,aAAA,SAAAC,GAZA,SAAAD,IAAA,IAAAE,EAAA,OAAAC,OAAAC,EAAA,KAAAD,CAAAE,KAAAL,kEAaEE,EAAAI,WAGMC,SAAU,GAAIC,SAAU,IAC9BN,EAAAO,OAASC,EAAA,KACTR,EAAAS,SAAW,GACXT,EAAAU,SAAU,EAnBZV,EAYA,OAAAC,OAAAU,EAAA,KAAAV,CAAAH,IAAAc,IAAA,UAAAC,MAAA,eAAAD,IAAA,aAAAC,MAAA,WAWY,IAAAC,EAAAX,KACRA,KAAKY,KAAKC,eAAe,SAACC,EAAUC,GAClC,OAAKD,IACHH,EAAKJ,SAAU,EACfS,OAAOC,IAAIC,MAAXpB,OAAAqB,EAAA,KAAArB,IAAsBiB,IAAUK,KAAK,SAACC,GACpCV,EAAKJ,SAAU,EADwC,IAAAe,EAEGD,EAAIE,KAFPC,EAAAF,EAE/CG,OAAUC,EAFqCF,EAErCE,WAAYC,EAFyBH,EAEzBG,cAFyBL,EAERM,OAC5B,IAAfF,EACFf,EAAKkB,SAASC,MAAMH,GAAiB,iBAErChB,EAAKkB,SAASE,QAAQJ,GACtBhB,EAAKqB,OAAOC,SAAS,eAAeb,KAAK,WACvCT,EAAKuB,QAAQC,KAAK,OACjBC,MAAM,SAACN,GACRnB,EAAKkB,SAASC,MAAMA,QAGvBM,MAAM,SAACC,GACR1B,EAAKJ,SAAU,EACfI,EAAKkB,SAASC,MAAMO,EAAKC,YAEpB,QAhCf7B,IAAA,SAAAC,MAAA,WAsCQ,IAAA6B,EAAAC,UAAA,GACIC,EAAsBzC,KAAKY,KAA3B6B,kBACR,OACEF,EAAA,OAAKG,MAAM,cACTH,EAAA,MAAIG,MAAM,aAAV,UAA4BH,EAAA,MAA5B,iBACAA,EAAA,OAAKG,MAAM,cACTH,EAAA,OAAKG,MAAM,SACTH,EAAA,OAAAI,OAAKC,IAAI,OAAOC,IAAKC,EAAQ,WAC7BP,EAAA,QAAOlC,EAAA,KAAO0C,SAEhBR,EAAA,UAAQS,IAAI,YAAZC,IAAAC,OAAmClD,KAAKmD,cACtCZ,EAAA,eAEIE,EAAkB,YAChBW,QACIC,UAAU,EAAMf,QAAS,8BAF/BG,CAIGF,EAAA,WAAAI,OACHW,GAAG,WACHC,cAAY,gBACZC,YAAY,8BAEZjB,EAAA,UAAQkB,KAAK,SAAbd,OAAsBe,KAAK,eAI/BnB,EAAA,eAEIE,EAAkB,YAChBW,QACIC,UAAU,EAAMf,QAAS,6BAF/BG,CAIGF,EAAA,WAAAI,OACDW,GAAG,WACHC,cAAY,gBACZG,KAAK,WAELF,YAAY,4BALXP,IAAAU,WAIc3D,KAAKmD,cAGtBZ,EAAA,UAAQkB,KAAK,SAAbd,OAAsBe,KAAK,eAI/BnB,EAAA,eACEA,EAAA,YAAAI,OACEpC,QAASP,KAAKO,QACdmD,KAAK,WAFPT,IAAAW,MAGY5D,KAAKmD,cAHjB,cAOJZ,EAAA,OAAKG,MAAM,SACTH,EAAA,2BACAA,EAAA,QAAMG,MAAM,UAAZ,6BA3FZ5C,OAAA+D,EAAA,KAAA/D,CAAAH,EAAAC,GAAAD,EAAA,CAAoBmE,EAAA,OAWlBC,EAAA,MADCjE,OAAAgE,EAAA,KAAAhE,6BA0BA,MApCGH,EAAKoE,EAAA,MAZVjE,OAAAgE,EAAA,KAAAhE,EACCkE,YACAC,SAAAC,EAAA,KACAC,cAAeD,EAAA,KAAKE,KACpBC,WAAAC,EAAA,KACAC,UAAAC,EAAA,KACAC,SAAAC,EAAA,MAEAC,OACA/D,KAAAsD,EAAA,SAGIvE,GAmGNiF,EAAA,WAAeV,EAAA,KAAKW,QAApB,CAA6BlF","file":"js/chunk-6d98.23c049c3.js","sourcesContent":["import {\n  Component,\n  Emit,\n  Vue,\n} from 'vue-property-decorator';\nimport { Form, Button, Input, Icon } from 'ant-design-vue';\nimport config from '@/utils/config';\n\nimport './login.less';\n\n@Component({\n  components: {\n  'a-form': Form,\n  'a-form-item': Form.Item,\n  'a-button': Button,\n  'a-input': Input,\n  'a-icon': Icon,\n  },\n  props: {\n  Form,\n  }\n  })\nclass Login extends Vue {\n  loginForm: {\n    username: string;\n    password: string;\n  } = { username: '', password: '' };\n  config = config;\n  imgToken = '';\n  loading = false;\n  created() {\n  }\n  @Emit()\n  submitForm() {\n    this.Form.validateFields((err: any, values: object) => {\n      if (!err) {\n        this.loading = true;\n        window.api.login({ ...values }).then((res: returnData) => {\n          this.loading = false;\n          const { result: { resultCode, resultMessage }, entity } = res.data;\n          if (resultCode !== 0) {\n            this.$message.error(resultMessage || 'unkown error');\n          } else {\n            this.$message.success(resultMessage);\n            this.$store.dispatch('getUserInfo').then(() => {\n              this.$router.push('/');\n            }).catch((error) => {\n              this.$message.error(error);\n            });\n          }\n        }).catch((errs: any) => {\n          this.loading = false;\n          this.$message.error(errs.message);\n        });\n        return true;\n      }\n      return false;\n    });\n  }\n\n  render() {\n    const { getFieldDecorator } = this.Form;\n    return (\n      <div class=\"loginWrap\">\n        <h2 class=\"loginTxt\">WELCOME<br/>VUE-TS-ADMIN</h2>\n        <div class=\"loginForm\">\n          <div class=\"logo\">\n            <img alt=\"logo\" src={require('../../assets/logo.svg')} />\n            <span>{config.name}</span>\n          </div>\n          <a-form ref=\"loginForm\" on-submit={this.submitForm}>\n            <a-form-item>\n              {\n                getFieldDecorator('username', {\n                  rules: [\n                    { required: true, message: 'Please enter a user name' },\n                  ],\n                })(<a-input\n                id=\"username\"\n                prefix-icon=\"iconfont-user\"\n                placeholder=\"Please enter a user name\"\n              >\n                <a-icon slot=\"prefix\" type='user'/>\n              </a-input>)\n              }\n            </a-form-item>\n            <a-form-item>\n              {\n                getFieldDecorator('password', {\n                  rules: [\n                    { required: true, message: 'Please enter a password' },\n                  ],\n                })(<a-input\n                  id=\"password\"\n                  prefix-icon=\"iconfont-lock\"\n                  type=\"password\"\n                  on-pressEnter={this.submitForm}\n                  placeholder=\"Please enter a user name\"\n              >\n                <a-icon slot=\"prefix\" type='lock'/>\n              </a-input>)\n              }\n            </a-form-item>\n            <a-form-item>\n              <a-button\n                loading={this.loading}\n                type=\"primary\"\n                on-click={this.submitForm}\n              >Login</a-button>\n            </a-form-item>\n          </a-form>\n          <div class=\"tips\">\n            <span>username：admin</span>\n            <span class=\"right\">password：admin</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Form.create()(Login);\n"],"sourceRoot":""}