{"version":3,"sources":["webpack:///./src/views/login/index.tsx"],"names":["Login","_Vue","_this","Object","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","this","loginForm","username","password","config","_utils_config__WEBPACK_IMPORTED_MODULE_17__","imgToken","loading","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_createClass__WEBPACK_IMPORTED_MODULE_12__","key","value","_this2","Form","validateFields","err","values","window","api","login","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_objectSpread__WEBPACK_IMPORTED_MODULE_9__","then","res","_res$data","data","_res$data$result","result","resultCode","resultMessage","entity","$message","error","success","$store","dispatch","$router","push","catch","errs","message","h","arguments","getFieldDecorator","class","attrs","alt","src","__webpack_require__","name","ref","on","submit","submitForm","rules","required","id","prefix-icon","placeholder","slot","type","pressEnter","click","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_inherits__WEBPACK_IMPORTED_MODULE_11__","vue_property_decorator__WEBPACK_IMPORTED_MODULE_16__","tslib__WEBPACK_IMPORTED_MODULE_15__","components","a-form","ant_design_vue_es_form__WEBPACK_IMPORTED_MODULE_7__","a-form-item","Item","a-button","ant_design_vue_es_button__WEBPACK_IMPORTED_MODULE_5__","a-input","ant_design_vue_es_input__WEBPACK_IMPORTED_MODULE_3__","a-icon","ant_design_vue_es_icon__WEBPACK_IMPORTED_MODULE_1__","props","__webpack_exports__","create"],"mappings":"4VAsBAA,aAAA,SAAAC,GAZA,SAAAD,IAAA,IAAAE,EAAA,OAAAC,OAAAC,EAAA,KAAAD,CAAAE,KAAAL,kEAaEE,EAAAI,WAGMC,SAAU,GAAIC,SAAU,IAC9BN,EAAAO,OAASC,EAAA,KACTR,EAAAS,SAAW,GACXT,EAAAU,SAAU,EAnBZV,EAYA,OAAAC,OAAAU,EAAA,KAAAV,CAAAH,IAAAc,IAAA,UAAAC,MAAA,eAAAD,IAAA,aAAAC,MAAA,WAWY,IAAAC,EAAAX,KACRA,KAAKY,KAAKC,eAAe,SAACC,EAAUC,GAClC,OAAKD,IACHH,EAAKJ,SAAU,EACfS,OAAOC,IAAIC,MAAXpB,OAAAqB,EAAA,KAAArB,IAAsBiB,IAAUK,KAAK,SAACC,GACpCV,EAAKJ,SAAU,EADwC,IAAAe,EAEGD,EAAIE,KAFPC,EAAAF,EAE/CG,OAAUC,EAFqCF,EAErCE,WAAYC,EAFyBH,EAEzBG,cAFyBL,EAERM,OAC5B,IAAfF,EACFf,EAAKkB,SAASC,MAAMH,GAAiB,iBAErChB,EAAKkB,SAASE,QAAQJ,GACtBhB,EAAKqB,OAAOC,SAAS,eAAeb,KAAK,WACvCT,EAAKuB,QAAQC,KAAK,OACjBC,MAAM,SAACN,GACRnB,EAAKkB,SAASC,MAAMA,QAGvBM,MAAM,SAACC,GACR1B,EAAKJ,SAAU,EACfI,EAAKkB,SAASC,MAAMO,EAAKC,YAEpB,QAhCf7B,IAAA,SAAAC,MAAA,WAsCQ,IAAA6B,EAAAC,UAAA,GACIC,EAAsBzC,KAAKY,KAA3B6B,kBACR,OACEF,EAAA,OAAKG,MAAM,cACTH,EAAA,MAAIG,MAAM,aAAV,UAA4BH,EAAA,MAA5B,iBACAA,EAAA,OAAKG,MAAM,cACTH,EAAA,OAAKG,MAAM,SACTH,EAAA,OAAAI,OAAKC,IAAI,OAAOC,IAAKC,EAAQ,WAC7BP,EAAA,QAAOlC,EAAA,KAAO0C,SAEhBR,EAAA,UAAQS,IAAI,YAAZC,IAAAC,OAAmClD,KAAKmD,cACtCZ,EAAA,eAEIE,EAAkB,YAChBW,QACIC,UAAU,EAAMf,QAAS,8BAF/BG,CAIGF,EAAA,WAAAI,OACHW,GAAG,WACHC,cAAY,gBACZC,YAAY,8BAEZjB,EAAA,UAAQkB,KAAK,SAAbd,OAAsBe,KAAK,eAI/BnB,EAAA,eAEIE,EAAkB,YAChBW,QACIC,UAAU,EAAMf,QAAS,6BAF/BG,CAIGF,EAAA,WAAAI,OACDW,GAAG,WACHC,cAAY,gBACZG,KAAK,WAELF,YAAY,4BALXP,IAAAU,WAIc3D,KAAKmD,cAGtBZ,EAAA,UAAQkB,KAAK,SAAbd,OAAsBe,KAAK,eAI/BnB,EAAA,eACEA,EAAA,YAAAI,OACEpC,QAASP,KAAKO,QACdmD,KAAK,WAFPT,IAAAW,MAGY5D,KAAKmD,cAHjB,cAOJZ,EAAA,OAAKG,MAAM,SACTH,EAAA,2BACAA,EAAA,QAAMG,MAAM,UAAZ,6BA3FZ5C,OAAA+D,EAAA,KAAA/D,CAAAH,EAAAC,GAAAD,EAAA,CAAoBmE,EAAA,OAWlBC,EAAA,MADCjE,OAAAgE,EAAA,KAAAhE,6BA0BA,MApCGH,EAAKoE,EAAA,MAZVjE,OAAAgE,EAAA,KAAAhE,EACCkE,YACAC,SAAAC,EAAA,KACAC,cAAeD,EAAA,KAAKE,KACpBC,WAAAC,EAAA,KACAC,UAAAC,EAAA,KACAC,SAAAC,EAAA,MAEAC,OACA/D,KAAAsD,EAAA,SAGIvE,GAmGNiF,EAAA,WAAeV,EAAA,KAAKW,QAApB,CAA6BlF","file":"js/chunk-6d98.997f8495.js","sourcesContent":["import {\r\n  Component,\r\n  Emit,\r\n  Vue,\r\n} from 'vue-property-decorator';\r\nimport { Form, Button, Input, Icon } from 'ant-design-vue';\r\nimport config from '@/utils/config';\r\n\r\nimport './login.less';\r\n\r\n@Component({\r\n  components: {\r\n  'a-form': Form,\r\n  'a-form-item': Form.Item,\r\n  'a-button': Button,\r\n  'a-input': Input,\r\n  'a-icon': Icon,\r\n  },\r\n  props: {\r\n  Form,\r\n  }\r\n  })\r\nclass Login extends Vue {\r\n  loginForm: {\r\n    username: string;\r\n    password: string;\r\n  } = { username: '', password: '' };\r\n  config = config;\r\n  imgToken = '';\r\n  loading = false;\r\n  created() {\r\n  }\r\n  @Emit()\r\n  submitForm() {\r\n    this.Form.validateFields((err: any, values: object) => {\r\n      if (!err) {\r\n        this.loading = true;\r\n        window.api.login({ ...values }).then((res: returnData) => {\r\n          this.loading = false;\r\n          const { result: { resultCode, resultMessage }, entity } = res.data;\r\n          if (resultCode !== 0) {\r\n            this.$message.error(resultMessage || 'unkown error');\r\n          } else {\r\n            this.$message.success(resultMessage);\r\n            this.$store.dispatch('getUserInfo').then(() => {\r\n              this.$router.push('/');\r\n            }).catch((error) => {\r\n              this.$message.error(error);\r\n            });\r\n          }\r\n        }).catch((errs: any) => {\r\n          this.loading = false;\r\n          this.$message.error(errs.message);\r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.Form;\r\n    return (\r\n      <div class=\"loginWrap\">\r\n        <h2 class=\"loginTxt\">WELCOME<br/>VUE-TS-ADMIN</h2>\r\n        <div class=\"loginForm\">\r\n          <div class=\"logo\">\r\n            <img alt=\"logo\" src={require('../../assets/logo.svg')} />\r\n            <span>{config.name}</span>\r\n          </div>\r\n          <a-form ref=\"loginForm\" on-submit={this.submitForm}>\r\n            <a-form-item>\r\n              {\r\n                getFieldDecorator('username', {\r\n                  rules: [\r\n                    { required: true, message: 'Please enter a user name' },\r\n                  ],\r\n                })(<a-input\r\n                id=\"username\"\r\n                prefix-icon=\"iconfont-user\"\r\n                placeholder=\"Please enter a user name\"\r\n              >\r\n                <a-icon slot=\"prefix\" type='user'/>\r\n              </a-input>)\r\n              }\r\n            </a-form-item>\r\n            <a-form-item>\r\n              {\r\n                getFieldDecorator('password', {\r\n                  rules: [\r\n                    { required: true, message: 'Please enter a password' },\r\n                  ],\r\n                })(<a-input\r\n                  id=\"password\"\r\n                  prefix-icon=\"iconfont-lock\"\r\n                  type=\"password\"\r\n                  on-pressEnter={this.submitForm}\r\n                  placeholder=\"Please enter a user name\"\r\n              >\r\n                <a-icon slot=\"prefix\" type='lock'/>\r\n              </a-input>)\r\n              }\r\n            </a-form-item>\r\n            <a-form-item>\r\n              <a-button\r\n                loading={this.loading}\r\n                type=\"primary\"\r\n                on-click={this.submitForm}\r\n              >Login</a-button>\r\n            </a-form-item>\r\n          </a-form>\r\n          <div class=\"tips\">\r\n            <span>username：admin</span>\r\n            <span class=\"right\">password：admin</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(Login);\r\n"],"sourceRoot":""}