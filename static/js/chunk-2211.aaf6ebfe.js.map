{"version":3,"sources":["webpack:///./src/views/customers/baseInfo/index.tsx"],"names":["BaseInfo","_Vue","_this","Object","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","filterParams","name","address","createtime","startTime","endTime","BackParams","code","codeOK","message","data","total","outParams","filterList","key","label","type","placeholder","options","_utils_city__WEBPACK_IMPORTED_MODULE_11__","value","tableList","title","dataIndex","customRender","genderRender","opreat","rowKey","color","text","roles","msg","visible","modelType","editData","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_createClass__WEBPACK_IMPORTED_MODULE_5__","h","$createElement","attrs","row","JSON","parse","stringify","split","birthDate","moment__WEBPACK_IMPORTED_MODULE_10___default","Table","$refs","baseInfoTable","reloadTable","arguments","class","ref","filterGrade","url","addBtn","exportBtn","dataType","fetchType","on","menuClick","tableClick","add","close","closeModal","success","D_workfile_9_vue_ts_admin_node_modules_babel_runtime_helpers_builtin_es6_inherits__WEBPACK_IMPORTED_MODULE_4__","vue_property_decorator__WEBPACK_IMPORTED_MODULE_9__","tslib__WEBPACK_IMPORTED_MODULE_8__","components","a-tag","ant_design_vue_es_tag__WEBPACK_IMPORTED_MODULE_1__","info-modal","_infoModal__WEBPACK_IMPORTED_MODULE_12__"],"mappings":"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","file":"js/chunk-2211.aaf6ebfe.js","sourcesContent":["import { Component, Vue } from 'vue-property-decorator';\r\nimport { Tag } from 'ant-design-vue';\r\nimport moment from 'moment';\r\nimport { tableList, FilterFormList, Opreat } from '@/interface';\r\nimport city from '@/utils/city';\r\n\r\nimport InfoModal from './infoModal';\r\n\r\nimport './index.less';\r\n\r\n\r\n@Component({\r\n  components: {\r\n  'a-tag': Tag,\r\n  'info-modal': InfoModal,\r\n  }\r\n  })\r\nexport default class BaseInfo extends Vue {\r\n  filterParams: any = {\r\n    name: '',\r\n    address: [],\r\n    createtime: [],\r\n    startTime: '',\r\n    endTime: '',\r\n  }\r\n  BackParams: any = {\r\n    code: 'data.result.resultCode',\r\n    codeOK: 0,\r\n    message: 'data.result.resultMessage',\r\n    data: 'data.entity.data',\r\n    total: 'data.entity.total',\r\n  }\r\n  outParams: any = {}\r\n  filterList: FilterFormList[] = [\r\n    {\r\n      key: 'name',\r\n      label: 'name',\r\n      type: 'input',\r\n      placeholder: 'Seach Name',\r\n    },\r\n    {\r\n      key: 'address',\r\n      label: 'address',\r\n      type: 'cascader',\r\n      placeholder: 'Seach address',\r\n      options: city,\r\n    },\r\n    {\r\n      key: 'createtime',\r\n      label: 'Createtime',\r\n      type: 'datetimerange',\r\n      placeholder: ['start date', 'end date'],\r\n      value: ['startTime', 'endTime'],\r\n    },\r\n  ]\r\n  tableList: tableList[] = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n    },\r\n    {\r\n      title: 'Nickname',\r\n      dataIndex: 'nickName',\r\n    },\r\n    {\r\n      title: 'age',\r\n      dataIndex: 'age',\r\n    },\r\n    {\r\n      title: 'Phone number',\r\n      dataIndex: 'phone',\r\n    },\r\n    {\r\n      title: 'Birth date',\r\n      dataIndex: 'birthDate',\r\n    },\r\n    {\r\n      title: 'Gender',\r\n      dataIndex: 'isMale',\r\n      customRender: this.genderRender,\r\n    },\r\n    {\r\n      title: 'ID number',\r\n      dataIndex: 'id',\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n    },\r\n    {\r\n      title: 'Address',\r\n      dataIndex: 'address',\r\n    },\r\n  ]\r\n  opreat: Opreat[] = [\r\n    {\r\n      key: 'edit',\r\n      rowKey: 'id',\r\n      color: 'blue',\r\n      text: '编辑',\r\n      roles: true,\r\n    },\r\n    {\r\n      key: 'delete',\r\n      rowKey: 'id',\r\n      color: 'red',\r\n      text: '删除',\r\n      roles: true,\r\n      msg: '确定删除？',\r\n    },\r\n  ]\r\n\r\n  title: string = 'add customer'\r\n  visible: boolean = false\r\n  modelType: string = 'add'\r\n  editData: object = {}\r\n\r\n  genderRender(text: any) {\r\n    return <a-tag color={text ? 'blue': 'purple'}>{text ? 'Male' : 'Female'}</a-tag>;\r\n  }\r\n\r\n  tableClick(key: string, row: any) {\r\n    const data = JSON.parse(JSON.stringify(row));\r\n    data.address = data.address.split(' ');\r\n    data.birthDate = moment(data.birthDate, 'YYYY-MM-DD HH:mm:ss');\r\n    switch (key) {\r\n      case 'edit':\r\n        this.editData = data;\r\n        this.visible = true;\r\n        this.modelType = 'edit';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  add() {\r\n    this.title = 'Add customer';\r\n    this.modelType = 'add';\r\n    this.visible = true;\r\n    this.editData = {};\r\n  }\r\n\r\n  closeModal() {\r\n    this.visible = false;\r\n    this.editData = {};\r\n  }\r\n\r\n  success() {\r\n    this.visible = false;\r\n    const Table: any = this.$refs.baseInfoTable;\r\n    this.editData = {};\r\n    Table.reloadTable();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"baseInfo-wrap\">\r\n        <filter-table\r\n          ref=\"baseInfoTable\"\r\n          tableList={this.tableList}\r\n          filterList={this.filterList}\r\n          filterGrade={[]}\r\n          url={'/customers/baseInfoList'}\r\n          filterParams={this.filterParams}\r\n          outParams={this.outParams}\r\n          addBtn={true}\r\n          exportBtn={false}\r\n          dataType={'json'}\r\n          rowKey={'id'}\r\n          opreat={this.opreat}\r\n          fetchType={'post'}\r\n          BackParams={this.BackParams}\r\n          on-menuClick={this.tableClick}\r\n          on-add={this.add}\r\n        >\r\n        </filter-table>\r\n        <info-modal\r\n          title={this.title}\r\n          visible={this.visible}\r\n          type={this.modelType}\r\n          data={this.editData}\r\n          on-close={this.closeModal}\r\n          on-success={this.success}\r\n          >\r\n        </info-modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}